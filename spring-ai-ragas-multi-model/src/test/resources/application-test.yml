spring:
  ai:
    retry:
      on-http-codes: [ 429 ]
      on-client-errors: true
      backoff:
        initial-interval: 2000ms
        max-interval: 30000ms
        multiplier: 2
    # выбор api стартера для работы - openai / gigachat
    model:
      chat: openai
    openai:
      base-url: https://openrouter.ai/api
      api-key: ${OPENROUTER_API_KEY}
      chat:
        options:
          model: google/gemini-2.5-flash
          temperature: 0.0
      embedding:
        base-url: https://openrouter.ai/api
        api-key: ${OPENROUTER_API_KEY}
        options:
          model: openai/text-embedding-3-small
          dimensions: 1024
    # Chat models configuration
    chat-models:
      default-options:
        temperature: 0.0
        max-tokens: 1000
        top-p: 1.0
      list:
        # Base tier
        - { id: anthropic/claude-4.5-sonnet }
        - { id: anthropic/claude-4.5-opus }
        - { id: openai/gpt-5-mini }
        - { id: openai/gpt-4.1 }
        - { id: google/gemini-3-pro-preview }
        - { id: google/gemini-2.5-pro }
        # Efficient tier
        - { id: google/gemini-2.5-flash }
        - { id: google/gemini-2.0-flash-001 }
        - { id: anthropic/claude-haiku-4.5 }
        - { id: openai/gpt-4o-mini }
        - { id: deepseek/deepseek-v3.2 }
        - { id: openai/gpt-oss-120b }
        # Open-source
        - { id: qwen/qwen3-coder }
        - { id: meta-llama/llama-3.3-70b-instruct }
        - { id: qwen/qwen3-235b-a22b-2507 }
        - { id: deepseek/deepseek-r1 }
        # Specialized models
        - { id: x-ai/grok-code-fast-1 }
        - { id: minimax/minimax-m2 }
        - { id: z-ai/glm-4.6 }
        - { id: google/gemini-2.5-flash-lite }
    # Embedding models configuration
    embedding-models:
      default-options:
        dimensions: 1024
      list:
        # OpenAI embeddings
        - id: openai/text-embedding-3-large
          options: { dimensions: 3072 }
        # Qwen embeddings
        - id: qwen/qwen3-embedding-8b
        - id: qwen/qwen3-embedding-4b
        # Google embedding
        - id: google/gemini-embedding-001
          options: { dimensions: 768 }
        # BAAI embeddings
        - id: baai/bge-m3
        - id: baai/bge-base-en-v1.5
          options: { dimensions: 768 }
  threads:
    virtual:
      enabled: true